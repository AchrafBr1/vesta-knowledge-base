name: Translate

on:
  issue_comment:
    types: [created]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Setup Node.js
        uses: actions/setup-node@v1
        with:
          node-version: 12.x

      - name: Print Detected References
        run: echo "${{ github.event.comment.body }}"

      - name: Translate References
        run: |
          echo "${{ github.event.comment.body }}" | tr ' ' '\n' | while read -r reference; do
            echo "Processing reference: $reference"

            # Add translation steps for each language
            echo "A単adiendo $reference - Espa単ol"
            uses: AchrafBr1/translate-readme@main
            with:
              LANG: es
              MODEL: $reference

            echo "A単adiendo $reference - Frances"
            uses: AchrafBr1/translate-readme@main
            with:
              LANG: fr
              MODEL: $reference

            echo "A単adiendo $reference - Italiano"
            uses: AchrafBr1/translate-readme@main
            with:
              LANG: it
              MODEL: $reference
          done
