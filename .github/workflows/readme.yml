name: Translate

on:
  issue_comment:
    types: [created]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Setup Node.js
        uses: actions/setup-node@v1
        with:
          node-version: 12.x

      - name: Print Detected References
        run: echo "${{ github.event.comment.body }}"

      - name: Translate References
        run: |
          echo "${{ github.event.comment.body }}" | tr ' ' '\n' | while read -r reference; do
            echo "Processing reference: $reference"

            # Add translation steps for each language
            echo "Añadiendo $reference - Español"
            echo "Run Español Translation"
            AchrafBr1/translate-readme@main
            LANG=es
            MODEL=$reference

            echo "Añadiendo $reference - Frances"
            echo "Run Frances Translation"
            AchrafBr1/translate-readme@main
            LANG=fr
            MODEL=$reference

            echo "Añadiendo $reference - Italiano"
            echo "Run Italiano Translation"
            AchrafBr1/translate-readme@main
            LANG=it
            MODEL=$reference
          done
