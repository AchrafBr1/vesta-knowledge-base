name: Translate

on:
  issue_comment:
    types: [created]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Setup Node.js
        uses: actions/setup-node@v1
        with:
          node-version: 12.x

      - name: Print Detected References
        run: echo "${{ github.event.comment.body }}"

      - name: Translate References
        run: |
          echo "vesta-006 vesta-007 vesta-008 vesta-009 vesta-010" | tr ' ' '\n' | while read -r reference; do
            echo "Processing reference: $reference"

            # Add translation steps for each language
            echo "Añadiendo $reference - Español"
            echo "Run Español Translation"
            echo "uses: AchrafBr1/translate-readme@main" >> $GITHUB_ENV
            echo "with:" >> $GITHUB_ENV
            echo "  LANG: es" >> $GITHUB_ENV
            echo "  MODEL: $reference" >> $GITHUB_ENV

            echo "Añadiendo $reference - Frances"
            echo "Run Frances Translation"
            echo "uses: AchrafBr1/translate-readme@main" >> $GITHUB_ENV
            echo "with:" >> $GITHUB_ENV
            echo "  LANG: fr" >> $GITHUB_ENV
            echo "  MODEL: $reference" >> $GITHUB_ENV

            echo "Añadiendo $reference - Italiano"
            echo "Run Italiano Translation"
            echo "uses: AchrafBr1/translate-readme@main" >> $GITHUB_ENV
            echo "with:" >> $GITHUB_ENV
            echo "  LANG: it" >> $GITHUB_ENV
            echo "  MODEL: $reference" >> $GITHUB_ENV
          done
