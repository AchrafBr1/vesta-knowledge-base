name: Translate

on:
  issue_comment:
    types: [created]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Node.js
        uses: actions/setup-node@v1
        with:
          node-version: 12.x
      - name: Imprimir nombre detectado
        run: echo "${{ github.event.comment.body }}"

      - name: Loop through models
        id: loop
        run: |
          for i in {6..10}; do
            echo "Model: vesta-$(printf "%03d" $i)"
            echo "::set-output name=model::vesta-$(printf "%03d" $i)"
            if [[ "$i" -eq 1 ]]; then
              break
            fi
          done

      - name: A単adiendo ${{ github.event.comment.body }} - Espa単ol
        uses: AchrafBr1/translate-readme@main
        with:
          LANG: es
          MODEL: ${{ steps.loop.outputs.model }}

      - name: A単adiendo ${{ github.event.comment.body }} - Frances
        uses: AchrafBr1/translate-readme@main
        with:
          LANG: fr
          MODEL: ${{ steps.loop.outputs.model }}

      - name: A単adiendo ${{ github.event.comment.body }} - Italiano
        uses: AchrafBr1/translate-readme@main
        with:
          LANG: it
          MODEL: ${{ steps.loop.outputs.model }}
